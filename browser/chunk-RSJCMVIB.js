import{$ as De,B as Ie,Ba as se,Ea as ie,Ec as Y,Fa as ce,Ga as Ue,Ia as Ne,Jc as K,K as Ae,S as je,T as we,V as Fe,Z as _e,a as S,aa as ne,b as I,da as D,f as P,g as V,ga as v,h as H,ha as T,ia as R,j as Me,ja as ke,ka as re,l as Te,s as Ce,sa as L,ua as oe,xa as W}from"./chunk-7LOXSSZQ.js";function Be(e,n){let r=!n?.manualCleanup?n?.injector?.get(oe)??R(oe):null,s=Rt(n?.equal),o;n?.requireSync?o=se({kind:0},{equal:s}):o=se({kind:1,value:n?.initialValue},{equal:s});let d,b=e.subscribe({next:m=>o.set({kind:1,value:m}),error:m=>{o.set({kind:2,error:m}),d?.()},complete:()=>{d?.()}});if(n?.requireSync&&o().kind===0)throw new ne(601,!1);return d=r?.onDestroy(b.unsubscribe.bind(b)),Y(()=>{let m=o();switch(m.kind){case 1:return m.value;case 2:throw m.error;case 0:throw new ne(601,!1)}},{equal:n?.equal})}function Rt(e=Object.is){return(n,t)=>n.kind===1&&t.kind===1&&e(n.value,t.value)}var de={};function C(e,n){if(de[e]=(de[e]||0)+1,typeof n=="function")return ue(e,(...r)=>I(S({},n(...r)),{type:e}));switch(n?n._as:"empty"){case"empty":return ue(e,()=>({type:e}));case"props":return ue(e,r=>I(S({},r),{type:e}));default:throw new Error("Unexpected config.")}}function j(){return{_as:"props",_p:void 0}}function ue(e,n){return Object.defineProperty(n,"type",{value:e,writable:!1})}function St(e,n){if(e==null)throw new Error(`${n} must be defined.`)}var Je="@ngrx/store/init",$=(()=>{class e extends H{constructor(){super({type:Je})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Ot=[$],Xe=new v("@ngrx/store Internal Root Guard"),ze=new v("@ngrx/store Internal Initial State"),ye=new v("@ngrx/store Initial State"),et=new v("@ngrx/store Reducer Factory"),Pe=new v("@ngrx/store Internal Reducer Factory Provider"),tt=new v("@ngrx/store Initial Reducers"),ae=new v("@ngrx/store Internal Initial Reducers");var $e=new v("@ngrx/store Internal Store Reducers");var xt=new v("@ngrx/store Internal Store Features");var Mt=new v("@ngrx/store Feature Reducers"),Ve=new v("@ngrx/store User Provided Meta Reducers"),Q=new v("@ngrx/store Meta Reducers"),Le=new v("@ngrx/store Internal Resolved Meta Reducers"),Ke=new v("@ngrx/store User Runtime Checks Config"),qe=new v("@ngrx/store Internal User Runtime Checks Config"),q=new v("@ngrx/store Internal Runtime Checks"),he=new v("@ngrx/store Check if Action types are unique"),le=new v("@ngrx/store Root Store Provider"),Ge=new v("@ngrx/store Feature State Provider");function Tt(e,n={}){let t=Object.keys(e),r={};for(let o=0;o<t.length;o++){let d=t[o];typeof e[d]=="function"&&(r[d]=e[d])}let s=Object.keys(r);return function(d,b){d=d===void 0?n:d;let m=!1,M={};for(let y=0;y<s.length;y++){let O=s[y],_=r[O],B=d[O],z=_(B,b);M[O]=z,m=m||z!==B}return m?M:d}}function Ct(e,n){return Object.keys(e).filter(t=>t!==n).reduce((t,r)=>Object.assign(t,{[r]:e[r]}),{})}function nt(...e){return function(n){if(e.length===0)return n;let t=e[e.length-1];return e.slice(0,-1).reduceRight((s,o)=>o(s),t(n))}}function rt(e,n){return Array.isArray(n)&&n.length>0&&(e=nt.apply(null,[...n,e])),(t,r)=>{let s=e(t);return(o,d)=>(o=o===void 0?r:o,s(o,d))}}function It(e){let n=Array.isArray(e)&&e.length>0?nt(...e):t=>t;return(t,r)=>(t=n(t),(s,o)=>(s=s===void 0?r:s,t(s,o)))}var G=class extends P{},J=class extends ${},At="@ngrx/store/update-reducers",X=(()=>{class e extends H{get currentReducers(){return this.reducers}constructor(t,r,s,o){super(o(s,r)),this.dispatcher=t,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let r=t.reduce((s,{reducers:o,reducerFactory:d,metaReducers:b,initialState:m,key:M})=>{let y=typeof o=="function"?It(b)(o,m):rt(d,b)(o,m);return s[M]=y,s},{});this.addReducers(r)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(r=>r.key))}addReducer(t,r){this.addReducers({[t]:r})}addReducers(t){this.reducers=S(S({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(r=>{this.reducers=Ct(this.reducers,r)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:At,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||e)(T(J),T(ye),T(tt),T(et))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),jt=[X,{provide:G,useExisting:X},{provide:J,useExisting:$}],be=(()=>{class e extends V{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ne(e)))(s||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),wt=[be],ee=class extends P{},Ze=(()=>{class e extends H{static{this.INIT=Je}constructor(t,r,s,o){super(o);let b=t.pipe(Te(Me)).pipe(De(r)),m={state:o},M=b.pipe(we(Ft,m));this.stateSubscription=M.subscribe(({state:y,action:O})=>{this.next(y),s.next(O)}),this.state=Be(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(r){return new(r||e)(T($),T(G),T(be),T(ye))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function Ft(e={state:void 0},[n,t]){let{state:r}=e;return{state:t(r,n),action:n}}var _t=[Ze,{provide:ee,useExisting:Ze}],ge=(()=>{class e extends P{constructor(t,r,s,o){super(),this.actionsObserver=r,this.reducerManager=s,this.injector=o,this.source=t,this.state=t.state}select(t,...r){return kt.call(null,t,...r)(this)}selectSignal(t,r){return Y(()=>t(this.state()),r)}lift(t){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=t,r}dispatch(t,r){if(typeof t=="function")return this.processDispatchFn(t,r);this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,r){this.reducerManager.addReducer(t,r)}removeReducer(t){this.reducerManager.removeReducer(t)}processDispatchFn(t,r){St(this.injector,"Store Injector");let s=r?.injector??Ut()??this.injector;return ie(()=>{let o=t();ce(()=>this.dispatch(o))},{injector:s})}static{this.\u0275fac=function(r){return new(r||e)(T(ee),T($),T(X),T(L))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Dt=[ge];function kt(e,n,...t){return function(s){let o;if(typeof e=="string"){let d=[n,...t].filter(Boolean);o=s.pipe(je(e,...d))}else if(typeof e=="function")o=s.pipe(Ce(d=>e(d,n)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(Ae())}}function Ut(){try{return R(L)}catch{return}}var ve="https://ngrx.io/guide/store/configuration/runtime-checks";function He(e){return e===void 0}function We(e){return e===null}function ot(e){return Array.isArray(e)}function Nt(e){return typeof e=="string"}function Bt(e){return typeof e=="boolean"}function zt(e){return typeof e=="number"}function st(e){return typeof e=="object"&&e!==null}function Pt(e){return st(e)&&!ot(e)}function $t(e){if(!Pt(e))return!1;let n=Object.getPrototypeOf(e);return n===Object.prototype||n===null}function fe(e){return typeof e=="function"}function Vt(e){return fe(e)&&e.hasOwnProperty("\u0275cmp")}function Lt(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var Kt=!1;function qt(){return Kt}function Ye(e,n){return e===n}function Gt(e,n,t){for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!0;return!1}function it(e,n=Ye,t=Ye){let r=null,s=null,o;function d(){r=null,s=null}function b(y=void 0){o={result:y}}function m(){o=void 0}function M(){if(o!==void 0)return o.result;if(!r)return s=e.apply(null,arguments),r=arguments,s;if(!Gt(arguments,r,n))return s;let y=e.apply(null,arguments);return r=arguments,t(s,y)?s:(s=y,y)}return{memoized:M,reset:d,setResult:b,clearResult:m}}function x(...e){return Ht(it)(...e)}function Zt(e,n,t,r){if(t===void 0){let o=n.map(d=>d(e));return r.memoized.apply(null,o)}let s=n.map(o=>o(e,t));return r.memoized.apply(null,[...s,t])}function Ht(e,n={stateFn:Zt}){return function(...t){let r=t;if(Array.isArray(r[0])){let[y,...O]=r;r=[...y,...O]}else r.length===1&&Wt(r[0])&&(r=Yt(r[0]));let s=r.slice(0,r.length-1),o=r[r.length-1],d=s.filter(y=>y.release&&typeof y.release=="function"),b=e(function(...y){return o.apply(null,y)}),m=it(function(y,O){return n.stateFn.apply(null,[y,s,O,b])});function M(){m.reset(),b.reset(),d.forEach(y=>y.release())}return Object.assign(m.memoized,{release:M,projector:b.memoized,setResult:m.setResult,clearResult:m.clearResult})}}function Re(e){return x(n=>{let t=n[e];return!qt()&&K()&&!(e in n)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},n=>n)}function Wt(e){return!!e&&typeof e=="object"&&Object.values(e).every(n=>typeof n=="function")}function Yt(e){let n=Object.values(e),t=Object.keys(e),r=(...s)=>t.reduce((o,d,b)=>I(S({},o),{[d]:s[b]}),{});return[...n,r]}function Qt(e){return e instanceof v?R(e):e}function ct(e){return typeof e=="function"?e():e}function Jt(e,n){return e.concat(n)}function Xt(){if(R(ge,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function en(e,n){return function(t,r){let s=n.action(r)?pe(r):r,o=e(t,s);return n.state()?pe(o):o}}function pe(e){Object.freeze(e);let n=fe(e);return Object.getOwnPropertyNames(e).forEach(t=>{if(!t.startsWith("\u0275")&&Lt(e,t)&&(!n||t!=="caller"&&t!=="callee"&&t!=="arguments")){let r=e[t];(st(r)||fe(r))&&!Object.isFrozen(r)&&pe(r)}}),e}function tn(e,n){return function(t,r){if(n.action(r)){let o=me(r);Qe(o,"action")}let s=e(t,r);if(n.state()){let o=me(s);Qe(o,"state")}return s}}function me(e,n=[]){return(He(e)||We(e))&&n.length===0?{path:["root"],value:e}:Object.keys(e).reduce((r,s)=>{if(r)return r;let o=e[s];return Vt(o)?r:He(o)||We(o)||zt(o)||Bt(o)||Nt(o)||ot(o)?!1:$t(o)?me(o,[...n,s]):{path:[...n,s],value:o}},!1)}function Qe(e,n){if(e===!1)return;let t=e.path.join("."),r=new Error(`Detected unserializable ${n} at "${t}". ${ve}#strict${n}serializability`);throw r.value=e.value,r.unserializablePath=t,r}function nn(e,n){return function(t,r){if(n.action(r)&&!W.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${ve}#strictactionwithinngzone`);return e(t,r)}}function rn(e){return K()?S({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function on({strictActionSerializability:e,strictStateSerializability:n}){return t=>e||n?tn(t,{action:r=>e&&!Ee(r),state:()=>n}):t}function sn({strictActionImmutability:e,strictStateImmutability:n}){return t=>e||n?en(t,{action:r=>e&&!Ee(r),state:()=>n}):t}function Ee(e){return e.type.startsWith("@ngrx")}function cn({strictActionWithinNgZone:e}){return n=>e?nn(n,{action:t=>e&&!Ee(t)}):n}function un(e){return[{provide:qe,useValue:e},{provide:Ke,useFactory:dn,deps:[qe]},{provide:q,deps:[Ke],useFactory:rn},{provide:Q,multi:!0,deps:[q],useFactory:sn},{provide:Q,multi:!0,deps:[q],useFactory:on},{provide:Q,multi:!0,deps:[q],useFactory:cn}]}function an(){return[{provide:he,multi:!0,deps:[q],useFactory:ln}]}function dn(e){return e}function ln(e){if(!e.strictActionTypeUniqueness)return;let n=Object.entries(de).filter(([,t])=>t>1).map(([t])=>t);if(n.length)throw new Error(`Action types are registered more than once, ${n.map(t=>`"${t}"`).join(", ")}. ${ve}#strictactiontypeuniqueness`)}function fn(e={},n={}){return[{provide:Xe,useFactory:Xt},{provide:ze,useValue:n.initialState},{provide:ye,useFactory:ct,deps:[ze]},{provide:ae,useValue:e},{provide:$e,useExisting:e instanceof v?e:ae},{provide:tt,deps:[ae,[new Ue($e)]],useFactory:Qt},{provide:Ve,useValue:n.metaReducers?n.metaReducers:[]},{provide:Le,deps:[Q,Ve],useFactory:Jt},{provide:Pe,useValue:n.reducerFactory?n.reducerFactory:Tt},{provide:et,deps:[Pe,Le],useFactory:rt},Ot,jt,wt,_t,Dt,un(n.runtimeChecks),an()]}function pn(){R($),R(G),R(be),R(ge),R(Xe,{optional:!0}),R(he,{optional:!0})}var mn=[{provide:le,useFactory:pn},re(()=>R(le))];function Zn(e,n){return ke([...fn(e,n),mn])}function yn(){R(le);let e=R(xt),n=R(Mt),t=R(X);R(he,{optional:!0});let r=e.map((s,o)=>{let b=n.shift()[o];return I(S({},s),{reducers:b,initialState:ct(s.initialState)})});t.addFeatures(r)}var Hn=[{provide:Ge,useFactory:yn},re(()=>R(Ge))];function w(...e){let n=e.pop(),t=e.map(r=>r.type);return{reducer:n,types:t}}function Se(e,...n){let t=new Map;for(let r of n)for(let s of r.types){let o=t.get(s);if(o){let d=(b,m)=>r.reducer(o(b,m),m);t.set(s,d)}else t.set(s,r.reducer)}return function(r=e,s){let o=t.get(s.type);return o?o(r,s):r}}var Jn=C("[Customer] Load Customers"),ut=C("[Customer] Load Customers Success",j()),Xn=C("[Customer] Load Customers Failure",j()),at=C("[Customer] Add Customer",j()),dt=C("[Customer] Update Customer",j()),lt=C("[Customer] Delete Customer",j()),er=C("[Transaction] Load Transactions"),ft=C("[Transaction] Load Transactions Success",j()),tr=C("[Transaction] Load Transactions Failure",j()),pt=C("[Transaction] Add Transaction",j()),mt=C("[Transaction] Update Transaction",j()),yt=C("[Transaction] Delete Transaction",j());function bn(){return{ids:[],entities:{}}}function gn(){function e(n={}){return Object.assign(bn(),n)}return{getInitialState:e}}function vn(){function e(n){let t=d=>d.ids,r=d=>d.entities,s=x(t,r,(d,b)=>d.map(m=>b[m])),o=x(t,d=>d.length);return n?{selectIds:x(n,t),selectEntities:x(n,r),selectAll:x(n,s),selectTotal:x(n,o)}:{selectIds:t,selectEntities:r,selectAll:s,selectTotal:o}}return{getSelectors:e}}var l=(function(e){return e[e.EntitiesOnly=0]="EntitiesOnly",e[e.Both=1]="Both",e[e.None=2]="None",e})(l||{});function g(e){return function(t,r){let s={ids:[...r.ids],entities:S({},r.entities)},o=e(t,s);return o===l.Both?Object.assign({},r,s):o===l.EntitiesOnly?I(S({},r),{entities:s.entities}):r}}function F(e,n){let t=n(e);return K()&&t===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",n.toString()),t}function ht(e){function n(p,u){let c=F(p,e);return c in u.entities?l.None:(u.ids.push(c),u.entities[c]=p,l.Both)}function t(p,u){let c=!1;for(let i of p)c=n(i,u)!==l.None||c;return c?l.Both:l.None}function r(p,u){return u.ids=[],u.entities={},t(p,u),l.Both}function s(p,u){let c=F(p,e);return c in u.entities?(u.entities[c]=p,l.EntitiesOnly):(u.ids.push(c),u.entities[c]=p,l.Both)}function o(p,u){let c=p.map(i=>s(i,u));switch(!0){case c.some(i=>i===l.Both):return l.Both;case c.some(i=>i===l.EntitiesOnly):return l.EntitiesOnly;default:return l.None}}function d(p,u){return b([p],u)}function b(p,u){let i=(p instanceof Array?p:u.ids.filter(a=>p(u.entities[a]))).filter(a=>a in u.entities).map(a=>delete u.entities[a]).length>0;return i&&(u.ids=u.ids.filter(a=>a in u.entities)),i?l.Both:l.None}function m(p){return Object.assign({},p,{ids:[],entities:{}})}function M(p,u,c){let i=c.entities[u.id],a=Object.assign({},i,u.changes),f=F(a,e),h=f!==u.id;return h&&(p[u.id]=f,delete c.entities[u.id]),c.entities[f]=a,h}function y(p,u){return O([p],u)}function O(p,u){let c={};return p=p.filter(a=>a.id in u.entities),p.length>0?p.filter(f=>M(c,f,u)).length>0?(u.ids=u.ids.map(f=>c[f]||f),l.Both):l.EntitiesOnly:l.None}function _(p,u){let i=u.ids.reduce((a,f)=>{let h=p(u.entities[f]);return h!==u.entities[f]&&a.push({id:f,changes:h}),a},[]).filter(({id:a})=>a in u.entities);return O(i,u)}function B({map:p,id:u},c){let i=c.entities[u];if(!i)return l.None;let a=p(i);return y({id:u,changes:a},c)}function z(p,u){return Z([p],u)}function Z(p,u){let c=[],i=[];for(let h of p){let E=F(h,e);E in u.entities?i.push({id:E,changes:h}):c.push(h)}let a=O(i,u),f=t(c,u);switch(!0){case(f===l.None&&a===l.None):return l.None;case(f===l.Both||a===l.Both):return l.Both;default:return l.EntitiesOnly}}return{removeAll:m,addOne:g(n),addMany:g(t),setAll:g(r),setOne:g(s),setMany:g(o),updateOne:g(y),updateMany:g(O),upsertOne:g(z),upsertMany:g(Z),removeOne:g(d),removeMany:g(b),map:g(_),mapOne:g(B)}}function Rn(e,n){let{removeOne:t,removeMany:r,removeAll:s}=ht(e);function o(c,i){return d([c],i)}function d(c,i){let a=c.filter(f=>!(F(f,e)in i.entities));return a.length===0?l.None:(u(a,i),l.Both)}function b(c,i){return i.entities={},i.ids=[],d(c,i),l.Both}function m(c,i){let a=F(c,e);return a in i.entities?(i.ids=i.ids.filter(f=>f!==a),u([c],i),l.Both):o(c,i)}function M(c,i){let a=c.map(f=>m(f,i));switch(!0){case a.some(f=>f===l.Both):return l.Both;case a.some(f=>f===l.EntitiesOnly):return l.EntitiesOnly;default:return l.None}}function y(c,i){return _([c],i)}function O(c,i,a){if(!(i.id in a.entities))return!1;let f=a.entities[i.id],h=Object.assign({},f,i.changes),E=F(h,e);return delete a.entities[i.id],c.push(h),E!==i.id}function _(c,i){let a=[],f=c.filter(h=>O(a,h,i)).length>0;if(a.length===0)return l.None;{let h=i.ids,E=[];return i.ids=i.ids.filter((A,k)=>A in i.entities?!0:(E.push(k),!1)),u(a,i),!f&&E.every(A=>i.ids[A]===h[A])?l.EntitiesOnly:l.Both}}function B(c,i){let a=i.ids.reduce((f,h)=>{let E=c(i.entities[h]);return E!==i.entities[h]&&f.push({id:h,changes:E}),f},[]);return _(a,i)}function z({map:c,id:i},a){let f=a.entities[i];if(!f)return l.None;let h=c(f);return y({id:i,changes:h},a)}function Z(c,i){return p([c],i)}function p(c,i){let a=[],f=[];for(let A of c){let k=F(A,e);k in i.entities?f.push({id:k,changes:A}):a.push(A)}let h=_(f,i),E=d(a,i);switch(!0){case(E===l.None&&h===l.None):return l.None;case(E===l.Both||h===l.Both):return l.Both;default:return l.EntitiesOnly}}function u(c,i){c.sort(n);let a=[],f=0,h=0;for(;f<c.length&&h<i.ids.length;){let E=c[f],A=F(E,e),k=i.ids[h],vt=i.entities[k];n(E,vt)<=0?(a.push(A),f++):(a.push(k),h++)}f<c.length?i.ids=a.concat(c.slice(f).map(e)):i.ids=a.concat(i.ids.slice(h)),c.forEach((E,A)=>{i.entities[e(E)]=E})}return{removeOne:t,removeMany:r,removeAll:s,addOne:g(o),updateOne:g(y),upsertOne:g(Z),setAll:g(b),setOne:g(m),setMany:g(M),addMany:g(d),updateMany:g(_),upsertMany:g(p),map:g(B),mapOne:g(z)}}function Oe(e={}){let{selectId:n,sortComparer:t}={selectId:e.selectId??(d=>d.id),sortComparer:e.sortComparer??!1},r=gn(),s=vn(),o=t?Rn(n,t):ht(n);return S(S(S({selectId:n,sortComparer:t},r),s),o)}var U=Oe(),N=Oe(),En=U.getInitialState({loaded:!1}),Sn=N.getInitialState({loaded:!1}),dr=Se(En,w(ut,(e,{customers:n})=>U.setAll(n,I(S({},e),{loaded:!0}))),w(at,(e,{customer:n})=>U.addOne(n,e)),w(dt,(e,{customer:n})=>U.updateOne(n,e)),w(lt,(e,{id:n})=>U.removeOne(n,e))),lr=Se(Sn,w(ft,(e,{transactions:n})=>N.setAll(n,e)),w(pt,(e,{transaction:n})=>N.addOne(n,e)),w(mt,(e,{transaction:n})=>N.updateOne(n,e)),w(yt,(e,{id:n})=>N.removeOne(n,e)));var On=Re("customers"),xn=Re("transactions"),{selectIds:gr,selectEntities:Mn,selectAll:bt,selectTotal:vr}=U.getSelectors(On),Rr=bt,Er=Mn,{selectAll:te}=N.getSelectors(xn),Sr=te,Or=e=>x(te,n=>n.filter(t=>t.customerId===e).sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime())),xr=e=>x(te,n=>n.filter(t=>t.customerId===e).reduce((t,r)=>r.type==="GAVE"?t+r.amount:t-r.amount,0)),gt=x(bt,te,(e,n)=>e.map(t=>{let r=n.filter(s=>s.customerId===t.id).reduce((s,o)=>o.type==="GAVE"?s+o.amount:s-o.amount,0);return I(S({},t),{currentBalance:r})})),Tn=x(gt,e=>e.filter(n=>n.currentBalance>0).reduce((n,t)=>n+t.currentBalance,0)),Cn=x(gt,e=>e.filter(n=>n.currentBalance<0).reduce((n,t)=>n+Math.abs(t.currentBalance),0)),Mr=x(Tn,Cn,(e,n)=>e-n);var xe=class{_box;_destroyed=new V;_resizeSubject=new V;_resizeObserver;_elementObservables=new Map;constructor(n){this._box=n,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new P(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),r.unsubscribe(),this._elementObservables.delete(n)}}).pipe(Ie(t=>t.some(r=>r.target===n)),Fe({bufferSize:1,refCount:!0}),_e(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},_r=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=R(W);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let s=r?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new xe(s)),this._observers.get(s).observe(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();export{Be as a,C as b,Je as c,$ as d,ye as e,le as f,Ge as g,G as h,J as i,At as j,be as k,ee as l,ge as m,Zn as n,_r as o,Jn as p,ut as q,Xn as r,at as s,dt as t,lt as u,er as v,ft as w,tr as x,pt as y,mt as z,yt as A,dr as B,lr as C,Rr as D,Er as E,Sr as F,Or as G,xr as H,gt as I,Tn as J,Cn as K,Mr as L};
