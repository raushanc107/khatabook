import{n as d}from"./chunk-K456UDKZ.js";import{Ba as a,Ea as n,da as c,ia as h,ta as i}from"./chunk-7LOXSSZQ.js";var l=class o{document=h(i);meta=h(d);currentTheme=a("system");systemQuery=window.matchMedia("(prefers-color-scheme: dark)");resolvedSystemTheme=a(this.systemQuery.matches?"dark":"light");constructor(){localStorage.getItem("theme_version")!=="v2"&&(localStorage.removeItem("theme"),localStorage.setItem("theme_version","v2"));let r=localStorage.getItem("theme");r&&this.currentTheme.set(r),this.systemQuery.addEventListener("change",t=>{let m=t.matches?"dark":"light";this.resolvedSystemTheme.set(m)}),n(()=>{let t=this.currentTheme(),m=this.resolvedSystemTheme();this.applyTheme(t,m),localStorage.setItem("theme",t)})}toggleTheme(){let e=this.currentTheme();if(e==="system"){let s=this.resolvedSystemTheme()==="dark"?"light":"dark";this.currentTheme.set(s)}else this.currentTheme.set(e==="dark"?"light":"dark")}setTheme(e){this.currentTheme.set(e)}applyTheme(e,s){let r=this.document.body;r.classList.remove("light-theme","dark-theme");let t=e==="system"?s:e;r.classList.add(`${t}-theme`);let m=t==="dark"?"#1e1e1e":"#ffffff";this.meta.updateTag({name:"theme-color",content:m}),this.meta.updateTag({name:"color-scheme",content:e==="system"?"light dark":t})}static \u0275fac=function(s){return new(s||o)};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{l as a};
