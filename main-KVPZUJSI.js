import{j as Rn,n as Zn,r as Qn}from"./chunk-YMIY3SMK.js";import{a as eo,b as to}from"./chunk-HF6EIVSA.js";import{A as Un,B as $n,C as zn,D as Kn,E as Vn,F as Gn,I as Hn,J as Yn,K as Wn,L as Jn,a as xe,b as gn,c as Xe,d as Pe,e as vn,f as yn,g as bn,h as Cn,i as Mn,j as qe,k as we,l as _n,m as X,n as On,p as Ie,q as Dn,r as kn,s as Te,t as Fn,u as Nn,v as Ae,w as jn,x as Ln,y as Qe,z as Bn}from"./chunk-RSJCMVIB.js";import{a as De,b as no}from"./chunk-ZLDOGPFM.js";import{n as ue,r as In}from"./chunk-ZLNFULDA.js";import{a as Re}from"./chunk-6EBKRAX4.js";import{B as xn,E as Pn,Ga as Tn,I as wn,Ja as An,Ka as pe,La as Xn,Ma as qn,c as rn,d as le,f as sn,g as an,h as cn,i as ln,j as de,k as dn,l as un,m as pn,o as fn,q as Ee,r as Se,s as mn,t as hn,v as En,z as Sn}from"./chunk-PRN6765B.js";import{$ as se,A as G,Aa as Ut,Ac as tn,B as P,Ba as $t,Ca as zt,D as ee,Dc as nn,E as Et,Eb as Wt,Ec as on,F as St,G as L,Gb as We,H as xt,Ia as Kt,J as Pt,Jc as Ze,L as wt,O as He,Ob as B,Pb as f,Q as It,Qa as Vt,Qb as h,Rb as U,T as Tt,U as At,W as Rt,X as Dt,Xb as Jt,Y as H,Z as Me,_ as Ye,a as A,aa as K,ac as J,b as Q,ba as kt,cc as Z,da as w,db as p,dc as Zt,ec as Xt,f as z,g as ne,ga as k,gc as qt,ha as E,hb as Gt,hc as Qt,i as yt,ia as d,ic as en,j as bt,ja as Y,k as Ct,ka as Ft,kb as Ht,l as Mt,n as oe,nb as Yt,nc as ve,oa as Nt,oc as $,pa as jt,qc as M,r as _t,rc as R,s as y,sa as _e,sb as W,sc as ce,t as Ot,ta as Lt,tc as Je,u as re,wa as Bt,xa as ae,ya as Oe,yb as te,yc as I,z as ie,zc as T}from"./chunk-7LOXSSZQ.js";var Ko="@",Vo=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=d(_e);loadingSchedulerFn=d(Go,{optional:!0});_engine;constructor(e,n,r,i,a){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=a}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-6JZLQAIR.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new K(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:i})=>{this._engine=r(this.animationType,this.doc);let a=new i(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new et(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(e,n);i.use(l),this.scheduler??=this.injector.get(zt,null,{optional:!0}),this.scheduler?.notify(10)}).catch(a=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){Yt()};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),et=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let e of this.replay)e(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,e){return this.delegate.createElement(o,e)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,e){this.delegate.appendChild(o,e)}insertBefore(o,e,n,r){this.delegate.insertBefore(o,e,n,r)}removeChild(o,e,n,r){this.delegate.removeChild(o,e,n,r)}selectRootElement(o,e){return this.delegate.selectRootElement(o,e)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,e,n,r){this.delegate.setAttribute(o,e,n,r)}removeAttribute(o,e,n){this.delegate.removeAttribute(o,e,n)}addClass(o,e){this.delegate.addClass(o,e)}removeClass(o,e){this.delegate.removeClass(o,e)}setStyle(o,e,n,r){this.delegate.setStyle(o,e,n,r)}removeStyle(o,e,n){this.delegate.removeStyle(o,e,n)}setProperty(o,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(o,e,n)),this.delegate.setProperty(o,e,n)}setValue(o,e){this.delegate.setValue(o,e)}listen(o,e,n,r){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(o,e,n,r)),this.delegate.listen(o,e,n,r)}shouldReplay(o){return this.replay!==null&&o.startsWith(Ko)}},Go=new k("");function oo(t="animations"){return Gt("NgAsyncAnimations"),Y([{provide:Ht,useFactory:()=>new Vo(d(Lt),d(un),d(ae),t)},{provide:Vt,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Wo(t,o){if(t&1){let e=Jt();f(0,"div",18),J("click",function(){let r=Nt(e).$implicit,i=Z();return jt(i.viewCustomer(r.id))}),f(1,"div",19),M(2),I(3,"uppercase"),h(),f(4,"div",20)(5,"h3",21),M(6),h(),f(7,"span",22),M(8),I(9,"date"),h()(),f(10,"div",23)(11,"span",4),M(12),I(13,"number"),h(),f(14,"span",24),M(15),h()()()}if(t&2){let e=o.$implicit,n=Z();p(2),ce(" ",T(3,9,e.name.charAt(0))," "),p(4),R(e.name),p(2),R(tn(9,11,e.lastUpdated,"mediumDate")),p(2),$("positive",e.currentBalance>=0)("negative",e.currentBalance<0),p(2),ce("\u20B9",T(13,14,e.currentBalance)),p(3),R(e.currentBalance>=0?n.translationService.t().ledger.you_will_get:n.translationService.t().ledger.you_will_give)}}function Jo(t,o){if(t&1&&(f(0,"div",25)(1,"p"),M(2),h()()),t&2){let e=Z();p(2),Je("",e.translationService.t().ledger.no_customers," ",e.translationService.t().ledger.no_customers_msg)}}var ke=class t{store=d(X);dialog=d(ue);router=d(Se);translationService=d(pe);searchControl=new xn("");customers$=Ot([this.store.select(Hn),this.searchControl.valueChanges.pipe(Dt(""))]).pipe(y(([o,e])=>{let n=(e||"").toLowerCase();return o.filter(r=>r.name.toLowerCase().includes(n)||r.phoneNumber.includes(n)).sort((r,i)=>new Date(i.lastUpdated).getTime()-new Date(r.lastUpdated).getTime())}));totalToGet$=this.store.select(Yn);totalToGive$=this.store.select(Wn);netBalance$=this.store.select(Jn);ngOnInit(){this.store.dispatch(Ie()),this.store.dispatch(Ae())}addCustomer(){this.dialog.open(Rn,{width:"300px"}).afterClosed().subscribe(e=>{if(e&&e.name){let n={id:crypto.randomUUID(),name:e.name,phoneNumber:e.phoneNumber||"",currentBalance:0,lastUpdated:new Date().toISOString()};this.store.dispatch(Te({customer:n}))}})}viewCustomer(o){this.router.navigate(["customer",o])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=W({type:t,selectors:[["app-customer-list"]],decls:42,vars:39,consts:[[1,"list-container"],[1,"summary-card","card"],[1,"summary-top"],[1,"label"],[1,"amount"],[1,"summary-bottom"],[1,"summary-item"],[1,"amount","text-success"],[1,"amount","text-danger"],[1,"search-bar"],["type","text",1,"search-input",3,"placeholder","formControl"],[1,"customer-list-content"],[1,"list-header"],[1,"btn","btn-primary","btn-sm","desktop-only",3,"click"],[1,"customers"],["class","customer-item card",3,"click",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"fab",3,"click"],[1,"customer-item","card",3,"click"],[1,"customer-avatar"],[1,"customer-info"],[1,"customer-name"],[1,"last-updated"],[1,"customer-balance"],[1,"status"],[1,"empty-state"]],template:function(e,n){if(e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),M(4),h(),f(5,"h2",4),I(6,"async"),I(7,"async"),M(8),I(9,"async"),I(10,"number"),h()(),f(11,"div",5)(12,"div",6)(13,"span",3),M(14),h(),f(15,"span",7),M(16),I(17,"async"),I(18,"number"),h()(),f(19,"div",6)(20,"span",3),M(21),h(),f(22,"span",8),M(23),I(24,"async"),I(25,"number"),h()()()(),f(26,"div",9),U(27,"input",10),h(),f(28,"div",11)(29,"div",12)(30,"span"),M(31),I(32,"async"),h(),f(33,"button",13),J("click",function(){return n.addCustomer()}),M(34),h()(),f(35,"div",14),te(36,Wo,16,16,"div",15),I(37,"async"),te(38,Jo,3,2,"div",16),I(39,"async"),h()(),f(40,"button",17),J("click",function(){return n.addCustomer()}),M(41,"+"),h()()),e&2){let r,i;p(4),R(n.translationService.t().ledger.net_balance),p(),$("positive",T(6,17,n.netBalance$)>=0)("negative",T(7,19,n.netBalance$)<0),p(3),ce(" \u20B9",T(10,23,T(9,21,n.netBalance$))," "),p(6),R(n.translationService.t().ledger.you_will_get),p(2),ce("\u20B9",T(18,27,T(17,25,n.totalToGet$))),p(5),R(n.translationService.t().ledger.you_will_give),p(2),ce("\u20B9",T(25,31,T(24,29,n.totalToGive$))),p(4),B("placeholder",n.translationService.t().ledger.search_placeholder)("formControl",n.searchControl),p(4),Je("",(r=T(32,33,n.customers$))==null?null:r.length," ",n.translationService.t().ledger.customers_count),p(3),R(n.translationService.t().ledger.add_customer),p(2),B("ngForOf",T(37,35,n.customers$)),p(2),B("ngIf",((i=T(39,37,n.customers$))==null?null:i.length)===0)}},dependencies:[de,rn,le,In,wn,En,Sn,Pn,sn,an,ln,cn],styles:[".list-container[_ngcontent-%COMP%]{padding:1rem;height:100%;overflow-y:auto;background-color:var(--background-color)}.summary-card[_ngcontent-%COMP%]{padding:0!important;margin-bottom:1.5rem;overflow:hidden}.summary-card[_ngcontent-%COMP%]   .summary-top[_ngcontent-%COMP%]{padding:1.25rem;text-align:center;border-bottom:1px solid var(--border-color)}.summary-card[_ngcontent-%COMP%]   .summary-top[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.8rem;text-transform:uppercase;color:var(--text-secondary);margin-bottom:.5rem;letter-spacing:.05em}.summary-card[_ngcontent-%COMP%]   .summary-top[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700}.summary-card[_ngcontent-%COMP%]   .summary-top[_ngcontent-%COMP%]   .amount.positive[_ngcontent-%COMP%]{color:var(--success-color)}.summary-card[_ngcontent-%COMP%]   .summary-top[_ngcontent-%COMP%]   .amount.negative[_ngcontent-%COMP%]{color:var(--danger-color)}.summary-card[_ngcontent-%COMP%]   .summary-bottom[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.summary-card[_ngcontent-%COMP%]   .summary-bottom[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{padding:1rem;text-align:center}.summary-card[_ngcontent-%COMP%]   .summary-bottom[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:first-child{border-right:1px solid var(--border-color)}.summary-card[_ngcontent-%COMP%]   .summary-bottom[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-bottom:.25rem}.summary-card[_ngcontent-%COMP%]   .summary-bottom[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.summary-card[_ngcontent-%COMP%]   .summary-bottom[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .amount.text-success[_ngcontent-%COMP%]{color:var(--success-color)}.summary-card[_ngcontent-%COMP%]   .summary-bottom[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .amount.text-danger[_ngcontent-%COMP%]{color:var(--danger-color)}.search-bar[_ngcontent-%COMP%]{margin-bottom:1rem}.search-bar[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid var(--border-color);border-radius:.5rem;font-size:1rem;box-sizing:border-box}.search-bar[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px var(--primary-light)}.customer-list-content[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;color:var(--text-secondary);font-size:.875rem}.customer-list-content[_ngcontent-%COMP%]   .customers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;padding-bottom:80px}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;cursor:pointer;transition:transform .1s,background-color .2s}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]:active{transform:scale(.99)}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background-color:var(--primary-light);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;margin-right:1rem;flex-shrink:0}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{flex:1;min-width:0}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .last-updated[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-balance[_ngcontent-%COMP%]{text-align:right;display:flex;flex-direction:column;flex-shrink:0}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-balance[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-balance[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:.65rem;color:var(--text-secondary)}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-balance.positive[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:var(--success-color)}.customer-list-content[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   .customer-balance.negative[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:var(--danger-color)}.fab[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:56px;height:56px;border-radius:50%;background-color:var(--primary-color);color:#fff;font-size:2rem;border:none;box-shadow:var(--shadow-lg);display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:100}.fab[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark);transform:scale(1.05)}@media(min-width:768px){.fab[_ngcontent-%COMP%]{display:none}}.desktop-only[_ngcontent-%COMP%]{display:none}@media(min-width:768px){.desktop-only[_ngcontent-%COMP%]{display:inline-flex}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-secondary)}"]})};var Zo=["container"],Xo=["*"];function qo(t,o){t&1&&U(0,"div",6)}function Qo(t,o){if(t&1&&(f(0,"div",7),M(1,"\u2193"),h()),t&2){let e=Z();ve("transform","rotate("+e.currentY*2+"deg)")}}var Fe=class t{scrollable=!0;refresh=new Bt;container;startY=0;currentY=0;refreshing=!1;pullThreshold=80;onTouchStart(o){if(this.refreshing)return;let e=o.composedPath(),n=!1;for(let r of e)if(r instanceof HTMLElement){if(r.scrollTop>0){n=!0;break}if(r.classList.contains("content")&&r.scrollTop>0){n=!0;break}}n?this.startY=-1:this.startY=o.touches[0].pageY}onTouchMove(o){if(this.startY===-1||this.refreshing)return;let n=o.touches[0].pageY-this.startY;n>0&&(this.currentY=Math.pow(n,.85),this.currentY>0&&o.preventDefault())}onTouchEnd(){this.startY===-1||this.refreshing||(this.currentY>=this.pullThreshold?this.triggerRefresh():this.reset())}triggerRefresh(){this.refreshing=!0,this.refresh.emit(),setTimeout(()=>this.finishRefresh(),2e3)}finishRefresh(){this.refreshing=!1,this.reset()}reset(){this.currentY=0,this.startY=-1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=W({type:t,selectors:[["app-pull-to-refresh"]],viewQuery:function(e,n){if(e&1&&qt(Zo,5),e&2){let r;Qt(r=en())&&(n.container=r.first)}},hostVars:6,hostBindings:function(e,n){e&1&&J("touchstart",function(i){return n.onTouchStart(i)})("touchmove",function(i){return n.onTouchMove(i)})("touchend",function(){return n.onTouchEnd()}),e&2&&ve("display","block")("height","100vh")("width","100%")},inputs:{scrollable:"scrollable"},outputs:{refresh:"refresh"},ngContentSelectors:Xo,decls:7,vars:12,consts:[["container",""],[1,"pull-to-refresh-container"],[1,"refresh-indicator"],["class","spinner",4,"ngIf"],["class","arrow",3,"transform",4,"ngIf"],[1,"content"],[1,"spinner"],[1,"arrow"]],template:function(e,n){e&1&&(Zt(),f(0,"div",1,0)(2,"div",2),te(3,qo,1,0,"div",3)(4,Qo,2,2,"div",4),h(),f(5,"div",5),Xt(6),h()()),e&2&&(p(2),ve("transform","translateY("+n.currentY+"px)"),$("refreshing",n.refreshing),p(),B("ngIf",n.refreshing),p(),B("ngIf",!n.refreshing&&n.currentY>20),p(),ve("transform","translateY("+n.currentY+"px)")("overflow-y",n.scrollable?"auto":"visible"),$("refreshing",n.refreshing))},dependencies:[de,le],styles:[".pull-to-refresh-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%;background-color:var(--surface-color)}.refresh-indicator[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;right:0;height:50px;display:flex;align-items:center;justify-content:center;z-index:100;transition:transform .1s ease-out;pointer-events:none}.refresh-indicator.refreshing[_ngcontent-%COMP%]{transform:translateY(60px)!important;transition:transform .3s ease-in-out}.content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;transition:transform .1s ease-out;-webkit-overflow-scrolling:touch}.content.refreshing[_ngcontent-%COMP%]{transform:translateY(50px)!important;transition:transform .3s ease-in-out}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid var(--primary-light);border-top:3px solid var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.arrow[_ngcontent-%COMP%]{font-size:24px;color:var(--primary-color);font-weight:700}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function er(t,o){if(t&1&&(f(0,"div",12)(1,"div",13)(2,"span",14),M(3,"receipt_long"),h(),f(4,"h2"),M(5),h(),f(6,"p"),M(7),h()()()),t&2){let e=Z();p(5),R(e.translationService.t().dashboard.select_customer),p(2),R(e.translationService.t().dashboard.select_customer_desc)}}var Ne=class t{router=d(Se);themeService=d(Re);translationService=d(pe);localStorageService=d(De);dialog=d(ue);url=xe(this.router.events.pipe(P(o=>o instanceof fn),y(()=>this.router.url)),{initialValue:this.router.url});showListOnMobile=on(()=>!this.url().includes("/customer/"));handleRefresh(){window.location.reload()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=W({type:t,selectors:[["app-dashboard"]],decls:18,vars:9,consts:[[3,"refresh","scrollable"],[1,"app-layout"],[1,"app-header"],[1,"container"],[1,"brand"],["src","icons/icon-192x192.png","alt","Logo",1,"app-logo"],[1,"actions"],["mat-icon-button","","routerLink","/settings"],[1,"split-pane","container"],[1,"sidebar"],[1,"main-content"],["class","placeholder-content",4,"ngIf"],[1,"placeholder-content"],[1,"placeholder-msg"],[1,"material-icons","big-icon"]],template:function(e,n){e&1&&(f(0,"app-pull-to-refresh",0),J("refresh",function(){return n.handleRefresh()}),f(1,"div",1)(2,"header",2)(3,"div",3)(4,"div",4),U(5,"img",5),f(6,"h1"),M(7),h()(),f(8,"div",6)(9,"button",7)(10,"mat-icon"),M(11,"settings"),h()()()()(),f(12,"div",8)(13,"div",9),U(14,"app-customer-list"),h(),f(15,"div",10),U(16,"router-outlet"),te(17,er,8,2,"div",11),h()()()()),e&2&&(B("scrollable",!1),p(2),$("mobile-hidden",!n.showListOnMobile()),p(5),R(n.translationService.t().dashboard.app_name),p(6),$("mobile-hidden",!n.showListOnMobile()),p(2),$("mobile-hidden",n.showListOnMobile()),p(2),B("ngIf",n.showListOnMobile()))},dependencies:[de,le,Ee,mn,ke,Zn,qn,Xn,An,Tn,Fe],styles:[".app-layout[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden;background-color:var(--background-color)}.app-header[_ngcontent-%COMP%]{background:var(--surface-color);border-bottom:1px solid var(--border-color);flex-shrink:0;padding:.75rem 1rem;height:60px;box-sizing:border-box;position:sticky;top:0;z-index:100}.app-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.app-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.app-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:6px;box-shadow:0 2px 4px #0000001a}.app-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:var(--primary-color)}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:var(--primary-color)}.split-pane[_ngcontent-%COMP%]{flex:1;display:flex;overflow:hidden;padding:0;max-width:100%!important;margin:0}.sidebar[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--surface-color)}@media(min-width:768px){.sidebar[_ngcontent-%COMP%]{min-width:450px;width:32%;flex-shrink:0}}.main-content[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--surface-color);display:flex;flex-direction:column}@media(min-width:768px){.main-content[_ngcontent-%COMP%]{flex:1;border-left:1px solid var(--border-color);overflow:hidden}}@media(max-width:767px){.mobile-hidden[_ngcontent-%COMP%]{display:none!important}}.placeholder-content[_ngcontent-%COMP%]{display:none}@media(min-width:768px){.placeholder-content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;color:var(--text-secondary);text-align:center}.placeholder-content[_ngcontent-%COMP%]   .big-icon[_ngcontent-%COMP%]{font-size:4rem;color:var(--primary-light);margin-bottom:1rem;opacity:.5}.placeholder-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}}"]})};var io=[{path:"",component:Ne,children:[{path:"customer/:id",loadComponent:()=>import("./chunk-LWT72W5Q.js").then(t=>t.CustomerLedgerComponent)}]},{path:"reports",loadComponent:()=>import("./chunk-EEWKM2T4.js").then(t=>t.ReportsComponent)},{path:"settings",loadComponent:()=>import("./chunk-HSYB7VWF.js").then(t=>t.SettingsComponent)}];var nt="Service workers are disabled or not supported by this browser",fe=class{serviceWorker;worker;registration;events;constructor(o,e){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=new z(n=>n.error(new K(5601,!1)));else{let n=null,r=new ne;this.worker=new z(s=>(n!==null&&s.next(n),r.subscribe(b=>s.next(b))));let i=()=>{let{controller:s}=o;s!==null&&(n=s,r.next(n))};o.addEventListener("controllerchange",i),i(),this.registration=this.worker.pipe(H(()=>o.getRegistration().then(s=>{if(!s)throw new K(5601,!1);return s})));let a=new ne;this.events=a.asObservable();let l=s=>{let{data:b}=s;b?.type&&a.next(b)};o.addEventListener("message",l),e?.get(We,null,{optional:!0})?.onDestroy(()=>{o.removeEventListener("controllerchange",i),o.removeEventListener("message",l)})}}postMessage(o,e){return new Promise(n=>{this.worker.pipe(L(1)).subscribe(r=>{r.postMessage(A({action:o},e)),n()})})}postMessageWithOperation(o,e,n){let r=this.waitForOperationCompleted(n),i=this.postMessage(o,e);return Promise.all([i,r]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let e;return typeof o=="string"?e=n=>n.type===o:e=n=>o.includes(n.type),this.events.pipe(P(e))}nextEventOfType(o){return this.eventsOfType(o).pipe(L(1))}waitForOperationCompleted(o){return new Promise((e,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(P(r=>r.nonce===o),L(1),y(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:e,error:n})})}get isEnabled(){return!!this.serviceWorker}},tr=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ne;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=G,this.notificationClicks=G,this.notificationCloses=G,this.pushSubscriptionChanges=G,this.subscription=G;return}this.messages=this.sw.eventsOfType("PUSH").pipe(y(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(y(r=>r.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(y(r=>r.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(y(r=>r.data)),this.pushManager=this.sw.registration.pipe(y(r=>r.pushManager));let n=this.pushManager.pipe(H(r=>r.getSubscription()));this.subscription=new z(r=>{let i=n.subscribe(r),a=this.subscriptionChanges.subscribe(r);return()=>{i.unsubscribe(),a.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(nt));let n={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(r.length));for(let a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return n.applicationServerKey=i,new Promise((a,l)=>{this.pushManager.pipe(H(g=>g.subscribe(n)),L(1)).subscribe({next:g=>{this.subscriptionChanges.next(g),a(g)},error:l})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(nt));let e=n=>{if(n===null)throw new K(5602,!1);return n.unsubscribe().then(r=>{if(!r)throw new K(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((n,r)=>{this.subscription.pipe(L(1),H(e)).subscribe({next:n,error:r})})}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||t)(E(fe))};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),nr=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=G,this.unrecoverable=G;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(nt));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new K(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||t)(E(fe))};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),lo=new k("");function or(){let t=d(ye);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let o=d(lo),e=d(ae),n=d(We);e.runOutsideAngular(()=>{let r=navigator.serviceWorker,i=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",i),n.onDestroy(()=>{r.removeEventListener("controllerchange",i)})}),e.runOutsideAngular(()=>{let r,{registrationStrategy:i}=t;if(typeof i=="function")r=new Promise(a=>i().subscribe(()=>a()));else{let[a,...l]=(i||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=so(+l[0]||0);break;case"registerWhenStable":r=Promise.race([n.whenStable(),so(+l[0])]);break;default:throw new K(5600,!1)}}r.then(()=>{n.destroyed||navigator.serviceWorker.register(o,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(a=>console.error(kt(5604,!1)))})})}function so(t){return new Promise(o=>setTimeout(o,t))}function rr(){let t=d(ye),o=d(_e),e=!0;return new fe(e&&t.enabled!==!1?navigator.serviceWorker:void 0,o)}var ye=class{enabled;updateViaCache;type;scope;registrationStrategy};function uo(t,o={}){return Y([tr,nr,{provide:lo,useValue:t},{provide:ye,useValue:o},{provide:fe,useFactory:rr},Wt(or)])}var sr={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},je="__@ngrx/effects_create__";function me(t,o={}){let e=o.functional?t:t(),n=A(A({},sr),o);return Object.defineProperty(e,je,{value:n}),e}function ar(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(je)?t[n][je].hasOwnProperty("dispatch"):!1).map(n=>{let r=t[n][je];return A({propertyName:n},r)})}function cr(t){return ar(t)}function po(t){return Object.getPrototypeOf(t)}function lr(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function fo(t){return typeof t=="function"}function dr(t){return t.filter(fo)}function ur(t,o,e){let n=po(t),i=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,a=cr(t).map(({propertyName:l,dispatch:g,useEffectsErrorHandler:s})=>{let b=typeof t[l]=="function"?t[l]():t[l],c=s?e(b,o):b;return g===!1?c.pipe(xt()):c.pipe(It()).pipe(y(S=>({effect:t[l],notification:S,propertyName:l,sourceName:i,sourceInstance:t})))});return ie(...a)}var pr=10;function mo(t,o,e=pr){return t.pipe(ee(n=>(o&&o.handleError(n),e<=1?t:mo(t,o,e-1))))}var ho=(()=>{class t extends z{constructor(e){super(),e&&(this.source=e)}lift(e){let n=new t;return n.source=this,n.operator=e,n}static{this.\u0275fac=function(n){return new(n||t)(E(we))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function he(...t){return P(o=>t.some(e=>typeof e=="string"?e===o.type:e.type===o.type))}var fr=new k("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>mo}),mr="@ngrx/effects/init",hr=gn(mr);function gr(t,o){if(t.notification.kind==="N"){let e=t.notification.value;!vr(e)&&o.handleError(new Error(`Effect ${yr(t)} dispatched an invalid action: ${br(e)}`))}}function vr(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function yr({propertyName:t,sourceInstance:o,sourceName:e}){let n=typeof o[t]=="function";return!!e?`"${e}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function br(t){try{return JSON.stringify(t)}catch{return t}}var Cr="ngrxOnIdentifyEffects";function Mr(t){return ot(t,Cr)}var _r="ngrxOnRunEffects";function Or(t){return ot(t,_r)}var Er="ngrxOnInitEffects";function Sr(t){return ot(t,Er)}function ot(t,o){return t&&o in t&&typeof t[o]=="function"}var go=(()=>{class t extends ne{constructor(e,n){super(),this.errorHandler=e,this.effectsErrorHandler=n}addEffects(e){this.next(e)}toActions(){return this.pipe(He(e=>lr(e)?po(e):e),re(e=>e.pipe(He(xr))),re(e=>{let n=e.pipe(wt(i=>Pr(this.errorHandler,this.effectsErrorHandler)(i)),y(i=>(gr(i,this.errorHandler),i.notification)),P(i=>i.kind==="N"&&i.value!=null),Pt()),r=e.pipe(L(1),P(Sr),y(i=>i.ngrxOnInitEffects()));return ie(n,r)}))}static{this.\u0275fac=function(n){return new(n||t)(E(Oe),E(fr))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xr(t){return Mr(t)?t.ngrxOnIdentifyEffects():""}function Pr(t,o){return e=>{let n=ur(e,t,o);return Or(e)?e.ngrxOnRunEffects(n):n}}var wr=(()=>{class t{get isStarted(){return!!this.effectsSubscription}constructor(e,n){this.effectSources=e,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(n){return new(n||t)(E(go),E(X))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vo(...t){let o=t.flat(),e=dr(o);return Y([e,Ft(()=>{d(yn),d(bn,{optional:!0});let n=d(wr),r=d(go),i=!n.isStarted;i&&n.start();for(let a of o){let l=fo(a)?d(a):a;r.addEffects(l)}i&&d(X).dispatch(hr())})])}var Ce="PERFORM_ACTION",Ir="REFRESH",Oo="RESET",Eo="ROLLBACK",So="COMMIT",xo="SWEEP",Po="TOGGLE_ACTION",Tr="SET_ACTIONS_ACTIVE",wo="JUMP_TO_STATE",Io="JUMP_TO_ACTION",gt="IMPORT_STATE",To="LOCK_CHANGES",Ao="PAUSE_RECORDING",ge=class{constructor(o,e){if(this.action=o,this.timestamp=e,this.type=Ce,typeof o.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},rt=class{constructor(){this.type=Ir}},it=class{constructor(o){this.timestamp=o,this.type=Oo}},st=class{constructor(o){this.timestamp=o,this.type=Eo}},at=class{constructor(o){this.timestamp=o,this.type=So}},ct=class{constructor(){this.type=xo}},lt=class{constructor(o){this.id=o,this.type=Po}};var dt=class{constructor(o){this.index=o,this.type=wo}},ut=class{constructor(o){this.actionId=o,this.type=Io}},pt=class{constructor(o){this.nextLiftedState=o,this.type=gt}},ft=class{constructor(o){this.status=o,this.type=To}},mt=class{constructor(o){this.status=o,this.type=Ao}};var $e=new k("@ngrx/store-devtools Options"),yo=new k("@ngrx/store-devtools Initial Config");function Ro(){return null}var Ar="NgRx Store DevTools";function Rr(t){let o={maxAge:!1,monitor:Ro,actionSanitizer:void 0,stateSanitizer:void 0,name:Ar,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof t=="function"?t():t,n=e.logOnly?{pause:!0,export:!0,test:!0}:!1,r=e.features||n||o.features;r.import===!0&&(r.import="custom");let i=Object.assign({},o,{features:r},e);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function bo(t,o){return t.filter(e=>o.indexOf(e)<0)}function Do(t){let{computedStates:o,currentStateIndex:e}=t;if(e>=o.length){let{state:r}=o[o.length-1];return r}let{state:n}=o[e];return n}function be(t){return new ge(t,+Date.now())}function Dr(t,o){return Object.keys(o).reduce((e,n)=>{let r=Number(n);return e[r]=ko(t,o[r],r),e},{})}function ko(t,o,e){return Q(A({},o),{action:t(o.action,e)})}function kr(t,o){return o.map((e,n)=>({state:Fo(t,e.state,n),error:e.error}))}function Fo(t,o,e){return t(o,e)}function No(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function Fr(t,o,e,n){let r=[],i={},a=[];return t.stagedActionIds.forEach((l,g)=>{let s=t.actionsById[l];s&&(g&&vt(t.computedStates[g],s,o,e,n)||(i[l]=s,r.push(l),a.push(t.computedStates[g])))}),Q(A({},t),{stagedActionIds:r,actionsById:i,computedStates:a})}function vt(t,o,e,n,r){let i=e&&!e(t,o.action),a=n&&!o.action.type.match(n.map(g=>Co(g)).join("|")),l=r&&o.action.type.match(r.map(g=>Co(g)).join("|"));return i||a||l}function Co(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jo(t){return{ngZone:t?d(ae):null,connectInZone:t}}var ze=(()=>{class t extends Pe{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(t)))(r||t)}})()}static{this.\u0275prov=w({token:t,factory:t.\u0275fac})}}return t})(),Le={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},ht=new k("@ngrx/store-devtools Redux Devtools Extension"),Lo=(()=>{class t{constructor(e,n,r){this.config=n,this.dispatcher=r,this.zoneConfig=jo(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,n){if(this.devtoolsExtension)if(e.type===Ce){if(n.isLocked||n.isPaused)return;let r=Do(n);if(No(this.config)&&vt(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let i=this.config.stateSanitizer?Fo(this.config.stateSanitizer,r,n.currentStateIndex):r,a=this.config.actionSanitizer?ko(this.config.actionSanitizer,e,n.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,i))}else{let r=Q(A({},n),{stagedActionIds:n.stagedActionIds,actionsById:this.config.actionSanitizer?Dr(this.config.actionSanitizer,n.actionsById):n.actionsById,computedStates:this.config.stateSanitizer?kr(this.config.stateSanitizer,n.computedStates):n.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new z(e=>{let n=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=n,n.init(),n.subscribe(r=>e.next(r)),n.unsubscribe}):Ct}createActionStreams(){let e=this.createChangesObservable().pipe(At()),n=e.pipe(P(s=>s.type===Le.START)),r=e.pipe(P(s=>s.type===Le.STOP)),i=e.pipe(P(s=>s.type===Le.DISPATCH),y(s=>this.unwrapAction(s.payload)),Et(s=>s.type===gt?this.dispatcher.pipe(P(b=>b.type===qe),_t(1e3),St(1e3),y(()=>s),ee(()=>oe(s)),L(1)):oe(s))),l=e.pipe(P(s=>s.type===Le.ACTION),y(s=>this.unwrapAction(s.payload))).pipe(Me(r)),g=i.pipe(Me(r));this.start$=n.pipe(Me(r)),this.actions$=this.start$.pipe(H(()=>l)),this.liftedActions$=this.start$.pipe(H(()=>g))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let n={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(n.maxAge=e.maxAge),n}sendToReduxDevtools(e){try{e()}catch(n){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",n)}}static{this.\u0275fac=function(n){return new(n||t)(E(ht),E($e),E(ze))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac})}}return t})(),Ue={type:Xe},Nr="@ngrx/store-devtools/recompute",jr={type:Nr};function Bo(t,o,e,n,r){if(n)return{state:e,error:"Interrupted by an error up the chain"};let i=e,a;try{i=t(e,o)}catch(l){a=l.toString(),r.handleError(l)}return{state:i,error:a}}function Be(t,o,e,n,r,i,a,l,g){if(o>=t.length&&t.length===i.length)return t;let s=t.slice(0,o),b=i.length-(g?1:0);for(let c=o;c<b;c++){let v=i[c],S=r[v].action,m=s[c-1],u=m?m.state:n,F=m?m.error:void 0,N=a.indexOf(v)>-1?m:Bo(e,S,u,F,l);s.push(N)}return g&&s.push(t[t.length-1]),s}function Lr(t,o){return{monitorState:o(void 0,{}),nextActionId:1,actionsById:{0:be(Ue)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Br(t,o,e,n,r={}){return i=>(a,l)=>{let{monitorState:g,actionsById:s,nextActionId:b,stagedActionIds:c,skippedActionIds:v,committedState:S,currentStateIndex:m,computedStates:u,isLocked:F,isPaused:x}=a||o;a||(s=Object.create(s));function N(O){let _=O,V=c.slice(1,_+1);for(let D=0;D<V.length;D++)if(u[D+1].error){_=D,V=c.slice(1,_+1);break}else delete s[V[D]];v=v.filter(D=>V.indexOf(D)===-1),c=[0,...c.slice(_+1)],S=u[_].state,u=u.slice(_),m=m>_?m-_:0}function j(){s={0:be(Ue)},b=1,c=[0],v=[],S=u[m].state,m=0,u=[]}let C=0;switch(l.type){case To:{F=l.status,C=1/0;break}case Ao:{x=l.status,x?(c=[...c,b],s[b]=new ge({type:"@ngrx/devtools/pause"},+Date.now()),b++,C=c.length-1,u=u.concat(u[u.length-1]),m===c.length-2&&m++,C=1/0):j();break}case Oo:{s={0:be(Ue)},b=1,c=[0],v=[],S=t,m=0,u=[];break}case So:{j();break}case Eo:{s={0:be(Ue)},b=1,c=[0],v=[],m=0,u=[];break}case Po:{let{id:O}=l;v.indexOf(O)===-1?v=[O,...v]:v=v.filter(V=>V!==O),C=c.indexOf(O);break}case Tr:{let{start:O,end:_,active:V}=l,D=[];for(let Ge=O;Ge<_;Ge++)D.push(Ge);V?v=bo(v,D):v=[...v,...D],C=c.indexOf(O);break}case wo:{m=l.index,C=1/0;break}case Io:{let O=c.indexOf(l.actionId);O!==-1&&(m=O),C=1/0;break}case xo:{c=bo(c,v),v=[],m=Math.min(m,c.length-1);break}case Ce:{if(F)return a||o;if(x||a&&vt(a.computedStates[m],l,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let _=u[u.length-1];u=[...u.slice(0,-1),Bo(i,l.action,_.state,_.error,e)],C=1/0;break}r.maxAge&&c.length===r.maxAge&&N(1),m===c.length-1&&m++;let O=b++;s[O]=l,c=[...c,O],C=c.length-1;break}case gt:{({monitorState:g,actionsById:s,nextActionId:b,stagedActionIds:c,skippedActionIds:v,committedState:S,currentStateIndex:m,computedStates:u,isLocked:F,isPaused:x}=l.nextLiftedState);break}case Xe:{C=0,r.maxAge&&c.length>r.maxAge&&(u=Be(u,C,i,S,s,c,v,e,x),N(c.length-r.maxAge),C=1/0);break}case qe:{if(u.filter(_=>_.error).length>0)C=0,r.maxAge&&c.length>r.maxAge&&(u=Be(u,C,i,S,s,c,v,e,x),N(c.length-r.maxAge),C=1/0);else{if(!x&&!F){m===c.length-1&&m++;let _=b++;s[_]=new ge(l,+Date.now()),c=[...c,_],C=c.length-1,u=Be(u,C,i,S,s,c,v,e,x)}u=u.map(_=>Q(A({},_),{state:i(_.state,jr)})),m=c.length-1,r.maxAge&&c.length>r.maxAge&&N(c.length-r.maxAge),C=1/0}break}default:{C=1/0;break}}return u=Be(u,C,i,S,s,c,v,e,x),g=n(g,l),{monitorState:g,actionsById:s,nextActionId:b,stagedActionIds:c,skippedActionIds:v,committedState:S,currentStateIndex:m,computedStates:u,isLocked:F,isPaused:x}}}var Mo=(()=>{class t{constructor(e,n,r,i,a,l,g,s){let b=Lr(g,s.monitor),c=Br(g,b,l,s.monitor,s),v=ie(ie(n.asObservable().pipe(Rt(1)),i.actions$).pipe(y(be)),e,i.liftedActions$).pipe(Mt(bt)),S=r.pipe(y(c)),m=jo(s.connectInZone),u=new yt(1);this.liftedStateSubscription=v.pipe(se(S),_o(m),Tt(({state:N},[j,C])=>{let O=C(N,j);return j.type!==Ce&&No(s)&&(O=Fr(O,s.predicate,s.actionsSafelist,s.actionsBlocklist)),i.notify(j,O),{state:O,action:j}},{state:b,action:null})).subscribe(({state:N,action:j})=>{if(u.next(N),j.type===Ce){let C=j.action;a.next(C)}}),this.extensionStartSubscription=i.start$.pipe(_o(m)).subscribe(()=>{this.refresh()});let F=u.asObservable(),x=F.pipe(y(Do));Object.defineProperty(x,"state",{value:xe(x,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=F,this.state=x}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new ge(e,+Date.now()))}refresh(){this.dispatch(new rt)}reset(){this.dispatch(new it(+Date.now()))}rollback(){this.dispatch(new st(+Date.now()))}commit(){this.dispatch(new at(+Date.now()))}sweep(){this.dispatch(new ct)}toggleAction(e){this.dispatch(new lt(e))}jumpToAction(e){this.dispatch(new ut(e))}jumpToState(e){this.dispatch(new dt(e))}importState(e){this.dispatch(new pt(e))}lockChanges(e){this.dispatch(new ft(e))}pauseRecording(e){this.dispatch(new mt(e))}static{this.\u0275fac=function(n){return new(n||t)(E(ze),E(Pe),E(Cn),E(Lo),E(we),E(Oe),E(vn),E($e))}}static{this.\u0275prov=w({token:t,factory:t.\u0275fac})}}return t})();function _o({ngZone:t,connectInZone:o}){return e=>o?new z(n=>e.subscribe({next:r=>t.run(()=>n.next(r)),error:r=>t.run(()=>n.error(r)),complete:()=>t.run(()=>n.complete())})):e}var Ur=new k("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function $r(t,o){return!!t||o.monitor!==Ro}function zr(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function Kr(t){return t.state}function Uo(t={}){return Y([Lo,ze,Mo,{provide:yo,useValue:t},{provide:Ur,deps:[ht,$e],useFactory:$r},{provide:ht,useFactory:zr},{provide:$e,deps:[yo],useFactory:Rr},{provide:_n,deps:[Mo],useFactory:Kr},{provide:Mn,useExisting:ze}])}var Ke=class t{actions$=d(ho);localStorageService=d(De);store=d(X);loadCustomers$=me(()=>this.actions$.pipe(he(Ie),re(()=>this.localStorageService.getCustomers().pipe(y(o=>Dn({customers:o})),ee(o=>oe(kn({error:o})))))));loadTransactions$=me(()=>this.actions$.pipe(he(Ae),re(()=>this.localStorageService.getTransactions().pipe(y(o=>jn({transactions:o})),ee(o=>oe(Ln({error:o})))))));persistCustomers$=me(()=>this.actions$.pipe(he(Te,Nn,Fn),se(this.store.select(Kn)),Ye(([o,e])=>{this.localStorageService.saveCustomers(e).subscribe()})),{dispatch:!1});persistTransactions$=me(()=>this.actions$.pipe(he(Qe,Un,Bn),se(this.store.select(Gn)),Ye(([o,e])=>{this.localStorageService.saveTransactions(e).subscribe()})),{dispatch:!1});updateCustomerBalance$=me(()=>this.actions$.pipe(he(Qe),se(this.store.select(Vn)),y(([{transaction:o},e])=>{let n=e[o.customerId];if(n){let r=n.currentBalance;o.type==="GAVE"?r+=o.amount:r-=o.amount;let i=Q(A({},n),{currentBalance:r,lastUpdated:new Date().toISOString()});return{type:"NO_OP"}}return{type:"NO_OP"}})),{dispatch:!1});static \u0275fac=function(e){return new(e||t)};static \u0275prov=w({token:t,factory:t.\u0275fac})};function Vr(t){let o=t,e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var $o=["en-IN",[["a","p"],["am","pm"]],[["am","pm"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[0,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE, d MMMM y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##,##0.###","#,##,##0%","\xA4#,##,##0.00","#E0"],"INR","\u20B9","Indian Rupee",{JPY:["JP\xA5","\xA5"]},"ltr",Vr];dn($o);var zo={providers:[{provide:nn,useValue:"en-IN"},Ut(),hn(io),On({customers:$n,transactions:zn}),vo([Ke]),Uo({maxAge:25,logOnly:!Ze()}),oo(),Qn(),uo("ngsw-worker.js",{enabled:!Ze(),registrationStrategy:"registerWhenStable:30000"}),to(eo())]};var Ve=class t{privatethemeService=d(Re);translationService=d(pe);dialog=d(ue);title=$t("khatabook");ngOnInit(){this.translationService.isLanguageSet()||this.openLanguageDialog()}openLanguageDialog(){this.dialog.open(no,{disableClose:!0,data:{allowCancel:!1}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=W({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&U(0,"router-outlet")},dependencies:[Ee],encapsulation:2})};pn(Ve,zo).catch(t=>console.error(t));
