<div class="list-container">
    <!-- Header Summary -->
    <div class="summary-card card">
        <div class="summary-top">
            <span class="label">{{ translationService.t().ledger.net_balance }}</span>
            <h2 class="amount" [class.positive]="(netBalance$ | async)! >= 0" [class.negative]="(netBalance$ | async)! < 0">
                ₹{{ (netBalance$ | async)! | number }}
            </h2>
        </div>
        <div class="summary-bottom">
            <div class="summary-item">
                <span class="label">{{ translationService.t().ledger.you_will_get }}</span>
                <span class="amount text-success">₹{{ (totalToGet$ | async) | number }}</span>
            </div>
            <div class="summary-item">
                <span class="label">{{ translationService.t().ledger.you_will_give }}</span>
                <span class="amount text-danger">₹{{ (totalToGive$ | async) | number }}</span>
            </div>
        </div>
    </div>

    <!-- Search / Filter -->
    <div class="search-bar">
        <input type="text" [placeholder]="translationService.t().ledger.search_placeholder" class="search-input" [formControl]="searchControl">
    </div>

    <!-- Customer List -->
    <div class="customer-list-content">
        <div class="list-header">
            <span>{{ (customers$ | async)?.length }} {{ translationService.t().ledger.customers_count }}</span>
            <button class="btn btn-primary btn-sm desktop-only" (click)="addCustomer()">{{ translationService.t().ledger.add_customer }}</button>
        </div>

        <div class="customers">
            <div class="customer-item card" *ngFor="let customer of customers$ | async" (click)="viewCustomer(customer.id)">
                <div class="customer-avatar">
                    {{ customer.name.charAt(0) | uppercase }}
                </div>
                <div class="customer-info">
                    <h3 class="customer-name">{{ customer.name }}</h3>
                    <span class="last-updated">{{ customer.lastUpdated | date:'mediumDate' }}</span>
                </div>
                <div class="customer-balance" [class.positive]="customer.currentBalance >= 0" [class.negative]="customer.currentBalance < 0">
                    <span class="amount">₹{{ customer.currentBalance | number }}</span>
                    <span class="status">{{ customer.currentBalance >= 0 ? translationService.t().ledger.you_will_get : translationService.t().ledger.you_will_give }}</span>
                </div>
            </div>
            
            <div class="empty-state" *ngIf="(customers$ | async)?.length === 0">
                <p>{{ translationService.t().ledger.no_customers }} {{ translationService.t().ledger.no_customers_msg }}</p>
            </div>
        </div>
    </div>

    <!-- FAB for Mobile -->
    <button class="fab" (click)="addCustomer()">+</button>
</div>
